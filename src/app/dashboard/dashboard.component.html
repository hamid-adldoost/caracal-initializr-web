<p-toast [style]="{marginTop: '30px'}" position="top-center" ></p-toast>
<div class="main-content">

  <div class="container-fluid">
    <div class="row">
      <div class="col-lg-3 col-md-6 col-sm-6">
        <div class="card card-stats">
          <div class="card-header" data-background-color="green">
            <i class="material-icons">group</i>
          </div>
          <div class="card-content">
            <p class="category">تعداد پروژه های تولید شده</p>
            <h3 class="title">{{items.count}}</h3>
          </div>
          <div class="card-footer">
            <div class="stats">

            </div>
          </div>
        </div>
      </div>
      <div class="col-lg-3 col-md-6 col-sm-6">
        <div class="card card-stats">
          <div class="card-header" data-background-color="orange">
            <i class="material-icons">domain</i>
          </div>
          <div class="card-content">
            <p class="category">آمار دو</p>
            <h3 class="title">{{secondStatisticValue}}</h3>
          </div>
          <div class="card-footer">
            <div class="stats">
              <!--                                <a (click)="getSecondStatisticValue()"><i class="material-icons text-danger">refresh</i> بروز رسانی</a>-->
            </div>
          </div>
        </div>
      </div>
      <div class="col-lg-3 col-md-6 col-sm-6">
        <div class="card card-stats">
          <div class="card-header" data-background-color="red">
            <i class="material-icons">note</i>
          </div>
          <div class="card-content">
            <p class="category">آمار سه</p>
            <h3 class="title">{{forthStatisticValue | number:'1.1-2'}}</h3>
          </div>
          <div class="card-footer">
            <div class="stats">
              <!--                                <a (click)="getForthStatisticsValue()"><i class="material-icons text-danger">refresh</i> بروز رسانی</a>-->
            </div>
          </div>
        </div>
      </div>

      <div class="col-lg-3 col-md-6 col-sm-6">
        <div class="card card-stats">
          <div class="card-header" data-background-color="blue">
            <i class="material-icons">assignment</i>
          </div>
          <div class="card-content">
            <p class="category">آمار چهار</p>
            <h3 class="title">{{thirdStatisticValue}}</h3>
          </div>
          <div class="card-footer">
            <div class="stats">
              <!--                                <a (click)="getThirdStatisticValue()"><i class="material-icons text-danger">refresh</i> بروز رسانی</a>-->
            </div>
          </div>
        </div>
      </div>
    </div>
    <hr/>
    <br/>
  </div>

  <div class="ui-rtl" dir="rtl">
    <div>
      <div class="row tableWrapper" *ngIf="items" style="margin-top: 5px;">
        <p-table [value]="items.data" [responsive]="true" [paginator]="true" [lazy]="true"
                 (onLazyLoad)="loadItems($event)"
                 [rows]="20" [totalRecords]="items.count" emptymessage="درخواستی یافت نشد"
                 [style]="{minWidth:'100%', width:'600px'}">
          <ng-template pTemplate="header">
            <tr>
              <th colspan="1">#</th>
              <th colspan="2" pSortableColumn="id">
                شناسه
                <p-sortIcon field="id"></p-sortIcon>
              </th>
              <th colspan="2" pSortableColumn="name">
                نام
                <p-sortIcon field="name"></p-sortIcon>
              </th>
              <th colspan="2" pSortableColumn="backendGenerationPath">
                آدرس سورس بک اند
                <p-sortIcon field="backendGenerationPath"></p-sortIcon>
              </th>
              <th colspan="2" pSortableColumn="frontendGenerationPath">
                آدرس سورس فرانت اند
                <p-sortIcon field="frontendGenerationPath"></p-sortIcon>
              </th>
              <th colspan="2" pSortableColumn="generationDate">
                تاریخ تولید
                <p-sortIcon field="generationDate"></p-sortIcon>
              </th>
              <th colspan="2" pSortableColumn="jsonMessage">
                متن پیام ساختار پروژه
                <p-sortIcon field="jsonMessage"></p-sortIcon>
              </th>
              <th colspan="2">ویرایش</th>
            </tr>
            <tr>
              <th style="overflow: hidden;" colspan="1">
                <button pButton class="btn btn-primary" (click)="loadItems(null)" icon="pi pi-search"></button>
              </th>
              <th colspan="2"><input name="idFilterInput" pInputText [(ngModel)]="searchProject.id"></th>
              <th colspan="2"><input name="nameFilterInput" pInputText [(ngModel)]="searchProject.name"></th>
              <th colspan="2"><input name="backendGenerationPathFilterInput" pInputText
                                     [(ngModel)]="searchProject.backendGenerationPath"></th>
              <th colspan="2"><input name="frontendGenerationPathFilterInput" pInputText
                                     [(ngModel)]="searchProject.frontendGenerationPath"></th>
              <th colspan="2">
                <input name="generationDateFromFilterInput" pInputText [(ngModel)]="searchProject.generationDateFrom">
                تا
                <input name="generationDateToFilterInput" pInputText [(ngModel)]="searchProject.generationDateTo">
              </th>
              <th colspan="2"><input name="jsonMessageFilterInput" pInputText [(ngModel)]="searchProject.jsonMessage">
              </th>
              <th colspan="2"></th>
            </tr>
          </ng-template>
          <ng-template pTemplate="body" let-item let-i="rowIndex">
            <tr>
              <td colspan="1">{{i + 1}}</td>
              <td colspan="2">{{item.id}} </td>
              <td colspan="2">{{item.name}} </td>
              <td colspan="2">{{item.backendGenerationPath}} </td>
              <td colspan="2">{{item.frontendGenerationPath}} </td>
              <td colspan="2">{{item.generationDate | jalalitime }} </td>
              <td colspan="2">{{item.jsonMessage | regulizeString}} </td>
              <td colspan="2">
                <button type="button" (click)="import(item)" class="btn btn-info">import</button>
              </td>
            </tr>
          </ng-template>
        </p-table>
      </div>

    </div>
  </div>
</div>
